<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –∑–≤—É–∫–∞</title>
    <link rel="stylesheet" href="css/audioGenerator.css">
    <link rel="stylesheet" href="css/storage-panel.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">

      <!-- –ë–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AudioGenerator -->
    <div class="audio-generator-panel module-section">
        <h2>üéõÔ∏è Audio Generator</h2>
        <div class="sections-grid">

            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="section">
                <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                <div class="form-grid">
                    <label for="sampleRate">Sample Rate (–ì—Ü):</label>
                    <input type="number" id="sampleRate" value="44100" min="8000" max="192000" step="100">

                    <label for="channels">–ö–∞–Ω–∞–ª—ã:</label>
                    <select id="channels">
                        <option value="1">–ú–æ–Ω–æ (1)</option>
                        <option value="2">–°—Ç–µ—Ä–µ–æ (2)</option>
                    </select>

                    <label for="type">–¢–∏–ø –≤–æ–ª–Ω—ã:</label>
                    <select id="type">
                        <option value="sine">–°–∏–Ω—É—Å (sine)</option>
                        <option value="square">–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è (square)</option>
                        <option value="sawtooth">–ü–∏–ª–æ–æ–±—Ä–∞–∑–Ω–∞—è (sawtooth)</option>
                        <option value="triangle">–¢—Ä–µ—É–≥–æ–ª—å–Ω–∞—è (triangle)</option>
                        <option value="noise">–®—É–º (noise)</option>
                    </select>

                    <label for="frequency">–ß–∞—Å—Ç–æ—Ç–∞ (–ì—Ü):</label>
                    <input type="number" id="frequency" value="440" min="20" max="20000" step="1">

                    <label for="duration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å):</label>
                    <input type="number" id="duration" value="2" min="0.1" max="10" step="0.1">

                    <label for="amplitude">–ê–º–ø–ª–∏—Ç—É–¥–∞ (0-1):</label>
                    <input type="range" id="amplitude" min="0" max="1" step="0.01" value="0.5">
                    <span id="amplitudeValue">0.5</span>

                    <label for="pan">–ü–∞–Ω–æ—Ä–∞–º–∞ (-1 .. 1):</label>
                    <input type="range" id="pan" min="-1" max="1" step="0.01" value="0">
                    <span id="panValue">0.0</span>
                </div>
            </div>

            <!-- ADSR (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) -->
            <div class="section">
                <h3>ADSR –æ–≥–∏–±–∞—é—â–∞—è <span style="font-size:0.8rem; color:#999;">(–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)</span></h3>
                <div class="form-grid">
                    <label for="attack">Attack (—Å):</label>
                    <input type="number" id="attack" value="0.01" min="0" step="0.01" disabled>

                    <label for="decay">Decay (—Å):</label>
                    <input type="number" id="decay" value="0.1" min="0" step="0.01" disabled>

                    <label for="sustain">Sustain (0-1):</label>
                    <input type="number" id="sustain" value="0.7" min="0" max="1" step="0.01" disabled>

                    <label for="release">Release (—Å):</label>
                    <input type="number" id="release" value="0.2" min="0" step="0.01" disabled>
                </div>
            </div>

            <!-- FM –º–æ–¥—É–ª—è—Ü–∏—è (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) -->
            <div class="section">
                <h3>FM –º–æ–¥—É–ª—è—Ü–∏—è <span style="font-size:0.8rem; color:#999;">(–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)</span></h3>
                <div class="form-grid">
                    <label for="modFrequency">Mod Frequency (–ì—Ü):</label>
                    <input type="number" id="modFrequency" value="5" min="0.1" step="0.1" disabled>

                    <label for="modDepth">Mod Depth (0-1):</label>
                    <input type="number" id="modDepth" value="0.5" min="0" max="1" step="0.01" disabled>
                </div>
            </div>

            <!-- –ì–∞—Ä–º–æ–Ω–∏–∫–∏ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) -->
            <div class="section">
                <h3>–ì–∞—Ä–º–æ–Ω–∏–∫–∏ <span style="font-size:0.8rem; color:#999;">(–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)</span></h3>
                <div class="form-grid">
                    <label for="harmonics">–ú–∞—Å—Å–∏–≤ [freq, amp] :</label>
                    <input type="text" id="harmonics" value='[[440,1],[880,0.5]]' disabled>
                    <div class="hint">–ü—Ä–∏–º–µ—Ä: [[440,1], [880,0.5]]</div>
                </div>
            </div>

            <!-- –§–∏–ª—å—Ç—Ä—ã (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) -->
            <div class="section">
            <h3>–§–∏–ª—å—Ç—Ä—ã <span style="font-size:0.8rem; color:#999;">(–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)</span></h3>
                <div class="form-grid">
                    <label for="filterType">–¢–∏–ø —Ñ–∏–ª—å—Ç—Ä–∞:</label>
                    <select id="filterType" disabled>
                        <option value="lowpass">lowpass</option>
                        <option value="highpass">highpass</option>
                        <option value="bandpass">bandpass</option>
                    </select>

                    <label for="filterFreq">–ß–∞—Å—Ç–æ—Ç–∞ —Å—Ä–µ–∑–∞ (–ì—Ü):</label>
                    <input type="number" id="filterFreq" value="1000" disabled>

                    <label for="filterQ">Q (—Ä–µ–∑–æ–Ω–∞–Ω—Å):</label>
                    <input type="number" id="filterQ" value="1" min="0.1" step="0.1" disabled>
                </div>
            </div>

            <div class="section">

                <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="button-group">
                    <button class="play" id="playBtn">‚ñ∂Ô∏è Play</button>
                    <button class="save" id="saveBtn">üíæ Save</button>
                    <button class="download" id="downloadBtn">‚¨áÔ∏è Download</button>
                </div>
                <!-- –°—Ç–∞—Ç—É—Å (–≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è) -->
                <div class="status" id="status">–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</div>
            </div>
        </div>
    </div>

    <!-- –ë–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AudioStorage -->
    <div class="storage-panel module-section" id="storagePanel">
        <h2>üéµ –•—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–ø–∏—Å–µ–π</h2>
        <div class="record-list" id="recordList">
        </div>
    </div>

      <div class="module-section">
          <h1>–ó–∞–ø–∏—Å—å –∏ –∞–Ω–∞–ª–∏–∑ –∑–≤—É–∫–∞</h1>
          <div class="controls">
            <button id="startRecordBtn" class="btn record">–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</button>
            <button id="stopRecordBtn" class="btn stop" disabled>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
          </div>

          <div id="player-container" style="display: none;">
            <h3>–ó–∞–ø–∏—Å—å:</h3>
            <audio id="audioPlayer" controls></audio>
          </div>

          <div id="analysis-blocks">
            <!-- –ë–ª–æ–∫ –¥–ª—è RMS -->
            <div class="analysis-block">
                <h3>–ê–º–ø–ª–∏—Ç—É–¥–∞ (RMS)</h3>
                <canvas id="rmsGraph" class="analysis-graph" width="400" height="100"></canvas>
                <p>–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: <span id="rmsValue">0.00</span></p>
            </div>
          </div>
      </div>
    </div>

    <script src="script.js"></script>
    <script src="js/AudioStorage.js"></script>
    <script src="js/AudioGenerator.js"></script>
    <script src="js/AudioGeneratorInit.js"></script>
    <script src="js/storage-panel.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
